#!/bin/sh
. "$(dirname "$0")/_/husky.sh"

echo "ğŸŸ¢ Husky: ĞĞ°Ñ‡Ğ°Ğ»Ğ¾ Ğ²Ñ‹Ğ¿Ğ¾Ğ»Ğ½ĞµĞ½Ğ¸Ñ pre-commit Ñ…ÑƒĞºĞ°"
echo "ğŸ• Ğ”Ğ°Ñ‚Ğ°: $(date)"
echo "ğŸ“¦ Ğ’ĞµÑ€ÑĞ¸Ñ node: $(node -v)"
echo "ğŸ“¦ Ğ’ĞµÑ€ÑĞ¸Ñ npm: $(npm -v)"

echo "ğŸ” Ğ—Ğ°Ğ¿ÑƒÑĞº lint-staged..."
npx lint-staged

EXIT_CODE=$?
if [ $EXIT_CODE -ne 0 ]; then
  echo "âŒ ĞÑˆĞ¸Ğ±ĞºĞ° Ğ²Ñ‹Ğ¿Ğ¾Ğ»Ğ½ĞµĞ½Ğ¸Ñ (ĞºĞ¾Ğ´: $EXIT_CODE)"
else
  echo "âœ… Ğ’Ñ‹Ğ¿Ğ¾Ğ»Ğ½ĞµĞ½Ğ¸Ğµ ÑƒÑĞ¿ĞµÑˆĞ½Ğ¾ Ğ·Ğ°Ğ²ĞµÑ€ÑˆĞµĞ½Ğ¾"
fi
